{"version":3,"sources":["firebase.js","components/Firestore.jsx","components/Admin.jsx","components/Login.jsx","components/Navbar.jsx","components/Reset.jsx","App.jsx","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","Firestore","props","React","useState","tareas","setTareas","tarea","setTarea","modoEdicion","setModoEdicion","id","setId","ultimo","setUltimo","desactivar","setDesactivar","useEffect","a","collection","user","uid","limit","orderBy","get","data","arrayData","docs","map","doc","length","console","log","startAfter","empty","obtenerDatos","siguiente","agregar","e","preventDefault","trim","nuevaTarea","name","fecha","Date","now","add","eliminar","delete","arrayFiltrado","filter","item","editar","update","arrayEditado","className","moment","format","onClick","activarEdicion","disabled","onSubmit","type","placeholder","onChange","target","value","withRouter","setUser","currentUser","history","push","email","setEmail","pass","setPass","error","setError","esRegistro","setEsRegistro","login","useCallback","signInWithEmailAndPassword","res","code","registrar","createUserWithEmailAndPassword","set","to","exact","firebaseUser","signOut","then","recuperar","sendPasswordResetEmail","message","App","setFirebaseUser","onAuthStateChanged","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3bfa021f.chunk.js","sourcesContent":["import app from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDXyckZJwWBvHqaa7ZBoP56zhkHOqhT1CQ\",\r\n  authDomain: \"crud-firebase-login.firebaseapp.com\",\r\n  projectId: \"crud-firebase-login\",\r\n  storageBucket: \"crud-firebase-login.appspot.com\",\r\n  messagingSenderId: \"838673483005\",\r\n  appId: \"1:838673483005:web:ed0e4e4a3fb11fb21c2a94\",\r\n};\r\n// Initialize Firebase\r\napp.initializeApp(firebaseConfig);\r\n\r\nconst db = app.firestore();\r\nconst auth = app.auth();\r\n\r\nexport { db, auth };\r\n","import React from \"react\";\r\nimport { db } from \"../firebase\";\r\n\r\nimport moment from \"moment\";\r\nimport \"moment/locale/es\"; // Para pasar a español la libreria de la fecha (moment)\r\n\r\nconst Firestore = (props) => {\r\n  const [tareas, setTareas] = React.useState([]);\r\n  const [tarea, setTarea] = React.useState(\"\");\r\n  const [modoEdicion, setModoEdicion] = React.useState(false);\r\n  const [id, setId] = React.useState(\"\");\r\n\r\n  const [ultimo, setUltimo] = React.useState(null);\r\n  const [desactivar, setDesactivar] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    const obtenerDatos = async () => {\r\n      try {\r\n        setDesactivar(true);\r\n        const data = await db\r\n          .collection(props.user.uid)\r\n          .limit(2)\r\n          .orderBy(\"fecha\")\r\n          .get();\r\n        const arrayData = data.docs.map((doc) => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n        }));\r\n\r\n        setUltimo(data.docs[data.docs.length - 1]);\r\n        console.log(arrayData);\r\n        setTareas(arrayData);\r\n\r\n        const query = await db\r\n          .collection(props.user.uid)\r\n          .limit(2)\r\n          .orderBy(\"fecha\")\r\n          .startAfter(data.docs[data.docs.length - 1])\r\n          .get();\r\n\r\n        if (query.empty) {\r\n          console.log(\"No hay mas documentos\");\r\n          setDesactivar(true);\r\n        } else {\r\n          setDesactivar(false);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    obtenerDatos();\r\n  }, [props.user.uid]);\r\n\r\n  const siguiente = async () => {\r\n    console.log(\"siguiente\");\r\n    try {\r\n      const data = await db\r\n        .collection(props.user.uid)\r\n        .limit(2)\r\n        .orderBy(\"fecha\")\r\n        .startAfter(ultimo)\r\n        .get();\r\n      const arrayData = data.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setTareas([...tareas, ...arrayData]);\r\n      setUltimo(data.docs[data.docs.length - 1]);\r\n      const query = await db\r\n        .collection(props.user.uid)\r\n        .limit(2)\r\n        .orderBy(\"fecha\")\r\n        .startAfter(data.docs[data.docs.length - 1])\r\n        .get();\r\n\r\n      if (query.empty) {\r\n        console.log(\"No hay mas documentos\");\r\n        setDesactivar(true);\r\n      } else {\r\n        setDesactivar(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  };\r\n\r\n  const agregar = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!tarea.trim()) {\r\n      console.log(\"está vacio\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const nuevaTarea = {\r\n        name: tarea,\r\n        fecha: Date.now(),\r\n      };\r\n      const data = await db.collection(props.user.uid).add(nuevaTarea);\r\n\r\n      setTareas([...tareas, { ...nuevaTarea, id: data.id }]);\r\n\r\n      setTarea(\"\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    console.log(tarea);\r\n  };\r\n\r\n  const eliminar = async (id) => {\r\n    try {\r\n      await db.collection(props.user.uid).doc(id).delete();\r\n\r\n      const arrayFiltrado = tareas.filter((item) => item.id !== id);\r\n      setTareas(arrayFiltrado);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const activarEdicion = (item) => {\r\n    setModoEdicion(true);\r\n    setTarea(item.name);\r\n    setId(item.id);\r\n  };\r\n\r\n  const editar = async (e) => {\r\n    e.preventDefault();\r\n    if (!tarea.trim()) {\r\n      console.log(\"vacio\");\r\n      return;\r\n    }\r\n    try {\r\n      await db.collection(props.user.uid).doc(id).update({\r\n        name: tarea,\r\n      });\r\n      const arrayEditado = tareas.map((item) =>\r\n        item.id === id ? { id: item.id, fecha: item.fecha, name: tarea } : item\r\n      );\r\n      setTareas(arrayEditado);\r\n      setModoEdicion(false);\r\n      setTarea(\"\");\r\n      setId(\"\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  console.log(tareas);\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <h3>Lista de tareas</h3>\r\n          <ul className=\"list-group\">\r\n            {tareas.map((item) => (\r\n              <li className=\"list-group-item\" key={item.id}>\r\n                {item.name} - {moment(item.fecha).format(\"lll\")}\r\n                <button\r\n                  className=\"btn btn-danger btn-sm float-right\"\r\n                  onClick={() => eliminar(item.id)}\r\n                >\r\n                  Eliminar\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-warning btn-sm float-right mr-2\"\r\n                  onClick={() => activarEdicion(item)}\r\n                >\r\n                  Editar\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <button\r\n            className=\"btn btn-info btn-block-mt-2 btn-sm\"\r\n            onClick={() => siguiente()}\r\n            disabled={desactivar}\r\n          >\r\n            siguiente...\r\n          </button>\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n          <h3>{modoEdicion ? \"Editar Tarea\" : \"Agregar Tarea\"}</h3>\r\n          <form onSubmit={modoEdicion ? editar : agregar}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Ingrese tarea\"\r\n              className=\"form-control mb-2\"\r\n              onChange={(e) => setTarea(e.target.value)}\r\n              value={tarea}\r\n            />\r\n            <button\r\n              className={\r\n                modoEdicion\r\n                  ? \"btn btn-warning btn-block\"\r\n                  : \"btn btn-dark btn-block\"\r\n              }\r\n              type=\"submit\"\r\n            >\r\n              {modoEdicion ? \"Editar\" : \"Agregar\"}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Firestore;\r\n","import React from \"react\";\r\nimport { auth } from \"../firebase\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Firestore from \"./Firestore\";\r\n\r\nconst Admin = (props) => {\r\n  const [user, setUser] = React.useState(null);\r\n  React.useEffect(() => {\r\n    if (auth.currentUser) {\r\n      console.log(\"existe un usuario\");\r\n      setUser(auth.currentUser);\r\n    } else {\r\n      console.log(\"no existe el usuario\");\r\n      props.history.push(\"/login\");\r\n    }\r\n  }, [props.history]);\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h3 className=\"text-center\">Ruta Protegida</h3>\r\n      {user && <Firestore user={user}/>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Admin);\r\n","import React from \"react\";\r\nimport { auth, db } from \"../firebase.js\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Login = (props) => {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [pass, setPass] = React.useState(\"\");\r\n  const [error, setError] = React.useState(null);\r\n  const [esRegistro, setEsRegistro] = React.useState(true);\r\n\r\n  const procesarDatos = (e) => {\r\n    e.preventDefault();\r\n    if (!email.trim()) {\r\n      //console.log(\"ingrese email\")\r\n      setError(\"Ingrese Email\");\r\n      return;\r\n    }\r\n    if (!pass.trim()) {\r\n      //console.log(\"ingrese password\")\r\n      setError(\"Ingrese Password\");\r\n      return;\r\n    }\r\n    if (pass.length < 6) {\r\n      //console.log(\"password mayor a 6 carácteres\")\r\n      setError(\"password de 6 carácteres o más\");\r\n      return;\r\n    }\r\n    console.log(\"Correcto...\");\r\n    setError(null);\r\n\r\n    if (esRegistro) {\r\n      registrar();\r\n    } else {\r\n      login();\r\n    }\r\n  };\r\n\r\n  const login = React.useCallback(async () => {\r\n    try {\r\n      const res = await auth.signInWithEmailAndPassword(email, pass);\r\n      console.log(res.user);\r\n      setEmail(\"\");\r\n      setPass(\"\");\r\n      setError(null);\r\n      props.history.push(\"/admin\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      if (error.code === \"auth/invalid-email\") {\r\n        setError(\"Email no corresponde...\");\r\n      }\r\n      if (error.code === \"auth/user-not-found\") {\r\n        setError(\"Email no registrado...\");\r\n      }\r\n      if (error.code === \"auth/wrong-password\") {\r\n        setError(\"Contraseña incorrecta...\");\r\n      }\r\n    }\r\n  }, [email, pass, props.history]);\r\n\r\n  const registrar = React.useCallback(async () => {\r\n    try {\r\n      const res = await auth.createUserWithEmailAndPassword(email, pass);\r\n      console.log(res.user);\r\n      await db.collection(\"usuarios\").doc(res.user.email).set({\r\n        email: res.user.email,\r\n        uid: res.user.uid,\r\n      });\r\n      await db.collection(res.user.uid).add({\r\n        name: \"Tarea de ejemplo\",\r\n        fecha: Date.now(),\r\n      });\r\n      setEmail(\"\");\r\n      setPass(\"\");\r\n      setError(null);\r\n      props.history.push(\"/admin\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      if (error.code === \"auth/invalid-email\") {\r\n        setError(\"Email no valido\");\r\n      }\r\n      if (error.code === \"auth/email-already-in-use\") {\r\n        setError(\"Email ya utilizado\");\r\n      }\r\n    }\r\n  }, [email, pass, props.history]);\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h3 className=\"text-center\">\r\n        {esRegistro ? \"Registro de usuarios\" : \"Login de acceso\"}\r\n      </h3>\r\n      <hr />\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-12 col-sm-8 col-md-6 col-xl-4\">\r\n          <form onSubmit={procesarDatos}>\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control mb-2\"\r\n              placeholder=\"Ingrese un email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              value={email}\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control mb-2\"\r\n              placeholder=\"Ingrese un password\"\r\n              onChange={(e) => setPass(e.target.value)}\r\n              value={pass}\r\n            />\r\n            <button className=\"btn btn-dark btn-lg btn-block\" type=\"submit\">\r\n              {esRegistro ? \"Registrarse\" : \"Acceder\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-info btn-sm btn-block\"\r\n              onClick={() => setEsRegistro(!esRegistro)}\r\n            >\r\n              {esRegistro ? \"¿Ya estas registrado?\" : \"¿No tienes cuenta?\"}\r\n            </button>\r\n            {!esRegistro ? (\r\n              <button\r\n                className=\"btn btn-dark btn-lg btn-block\"\r\n                type=\"button\"\r\n                onClick={() => props.history.push(\"/reset\")}\r\n              >\r\n                Recuperar Contraseña\r\n              </button>\r\n            ) : null}\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { auth } from \"../firebase\";\r\n\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n  const cerrarSesion = () => {\r\n    auth.signOut().then(() => {\r\n      props.history.push(\"/login\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark\">\r\n      <Link className=\"navbar-brand\" to=\"/\">\r\n        AUTH\r\n      </Link>\r\n      <div>\r\n        <div className=\"d-flex\">\r\n          <NavLink className=\"btn btn-dark mr-2\" to=\"/\" exact>\r\n            Inicio\r\n          </NavLink>\r\n          {props.firebaseUser !== null ? (\r\n            <NavLink className=\"btn btn-dark mr-2\" to=\"/admin\" exact>\r\n              Admin\r\n            </NavLink>\r\n          ) : null}\r\n          {props.firebaseUser !== null ? (\r\n            <button className=\"btn btn-dark\" onClick={() => cerrarSesion()}>\r\n              Cerrar Sesión\r\n            </button>\r\n          ) : (\r\n            <NavLink className=\"btn btn-dark mr-2\" to=\"/login\" exact>\r\n              login\r\n            </NavLink>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Navbar);\r\n","import React from \"react\";\r\nimport {auth} from '../firebase'\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst Reset = (props) => {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [error, setError] = React.useState(null);\r\n\r\n  const procesarDatos = (e) => {\r\n    e.preventDefault();\r\n    if (!email.trim()) {\r\n      //console.log(\"ingrese email\")\r\n      setError(\"Ingrese Email\");\r\n      return;\r\n    }\r\n    setError(null);\r\n    recuperar()\r\n  };\r\n\r\n  const recuperar = React.useCallback(async() => {\r\n    try{\r\n        await auth.sendPasswordResetEmail(email)\r\n        console.log('correo enviado')\r\n        props.history.push('login')\r\n    }catch(error) {\r\n        setError(error.message)\r\n    }\r\n  },[email, props.history])\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <h3 className=\"text-center\">Reiniciar contraseña</h3>\r\n      <hr />\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-12 col-sm-8 col-md-6 col-xl-4\">\r\n          <form onSubmit={procesarDatos}>\r\n            {error && <div className=\"alert alert-danger\">{error}</div>}\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control mb-2\"\r\n              placeholder=\"Ingrese un email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              value={email}\r\n            />\r\n            <button className=\"btn btn-dark btn-lg btn-block\" type=\"submit\">\r\n              Reiniciar contraseña\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Reset);\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Admin from \"./components/Admin\";\nimport Login from \"./components/Login\";\nimport Navbar from \"./components/Navbar\";\nimport Reset from \"./components/Reset\";\n\nimport { auth } from \"./firebase\";\n\nfunction App() {\n  const [firebaseUser, setFirebaseUser] = React.useState(false);\n\n  React.useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      console.log(user);\n      if (user) {\n        setFirebaseUser(user);\n      } else {\n        setFirebaseUser(null);\n      }\n    });\n  }, []);\n\n  return firebaseUser !== false ? (\n    <Router>\n      <div className=\"container\">\n        <Navbar firebaseUser={firebaseUser} />\n        <Switch>\n          <Route path=\"/\" exact>\n            inicio...\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/reset\">\n            <Reset />\n          </Route>\n          <Route path=\"/admin\">\n            <Admin />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  ) : (\n    <p>Cargando...</p>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}